ğŸ” 1) LOGIN
Rota: POST /login
Para que serve:

Autentica o usuÃ¡rio e retorna:

token JWT

dados do usuÃ¡rio (perfil interno)

Quando usar:

Logo apÃ³s o usuÃ¡rio colocar email e senha no app.

O que o front deve fazer depois:

Salvar:

token

informaÃ§Ãµes do usuÃ¡rio

e usar o token em todas as rotas protegidas.


ğŸ‘¤ 2) PERFIL DO USUÃRIO (PRÃ“PRIO)


Essas rotas manipulam o perfil do usuÃ¡rio logado.
NÃ£o existem mais rotas de CRUD geral.

Sempre precisam enviar o token.

GET /usuarios/me â€” Buscar meu perfil
Para que serve:

Carregar o perfil do usuÃ¡rio que estÃ¡ logado.

Quando usar:

Ao abrir o app

Ao entrar na tela â€œMeu Perfilâ€ ou â€œConfiguraÃ§Ãµesâ€

PATCH /usuarios/me â€” Atualizar meu perfil
Para que serve:

Modificar os dados do prÃ³prio usuÃ¡rio (nome, telefone, data de nascimento).

Quando usar:

Na tela de editar perfil.

DELETE /usuarios/me â€” Deletar minha conta
Para que serve:

Excluir a conta do usuÃ¡rio do app.

Quando usar:

Se tiver a opÃ§Ã£o â€œExcluir minha contaâ€.


ğŸ‘¥ 3) ASSISTIDOS (Idosos)


POST /assistidos â€” Criar assistido
Para que serve:

Criar um novo assistido e vincular automaticamente ao cuidador logado.

Quando usar:

Na tela de cadastrar um novo idoso.

O que acontece:

cria o assistido

gera o cÃ³digo de compartilhamento

vincula ao cuidador automaticamente

GET /assistidos/meus â€” Listar meus assistidos
Para que serve:

Mostrar todos os assistidos que o cuidador acompanha.

Quando usar:

Ao abrir o app

Tela de lista de assistidos

GET /assistidos/:id â€” Buscar um assistido especÃ­fico
Para que serve:

Mostrar detalhes do assistido (nome, telefone, etc.).

Quando usar:

Ao entrar na tela de detalhes do idoso

ObservaÃ§Ã£o:

SÃ³ funciona se o cuidador estiver vinculado ao assistido.


ğŸ”— 4) VÃNCULOS (Compartilhamento por cÃ³digo)


POST /vinculos â€” Vincular cuidador a assistido
Para que serve:

Quando o cuidador quer entrar como cuidador de um assistido jÃ¡ existente.

Como funciona:

o cuidador recebe do amigo/familiar um cÃ³digo de compartilhamento

coloca no app

Ã© vinculado ao assistido

Quando usar:

Tela â€œEntrar como cuidadorâ€

Campo onde usuÃ¡rio digita o cÃ³digo

DELETE /vinculos/:assistido_id â€” Desvincular cuidador
Para que serve:

Remover o assistido da lista do cuidador atual.

Quando usar:

Na tela de configuraÃ§Ãµes do assistido

Ao tocar em â€œParar de monitorar este idosoâ€

ObservaÃ§Ãµes:

NÃƒO apaga o assistido do sistema, sÃ³ o vÃ­nculo do cuidador atual.


âš™ï¸ 5) DISPOSITIVOS (ESP32)


Essas rotas ainda serÃ£o organizadas amanhÃ£, mas aqui vai o bÃ¡sico que jÃ¡ funciona.

POST /registrar
Serve para:

Registrar o dispositivo na API.

POST /vincular
Serve para:

Ligar o dispositivo a um assistido.

ğŸ§­ RESUMO BEM SIMPLES PARA O FRONT

PARA LOGIN

usar /login

PARA PERFIL DO USUÃRIO

/usuarios/me (GET)

/usuarios/me (PATCH)

/usuarios/me (DELETE)

PARA ASSISTIDOS

/assistidos (POST) â€” criar novo idoso

/assistidos/meus (GET) â€” listar todos que eu cuido

/assistidos/:id (GET) â€” detalhes do assistido

PARA COMPARTILHAMENTO

/vinculos (POST) â€” usar cÃ³digo para se vincular

/vinculos/:assistido_id (DELETE) â€” parar de cuidar